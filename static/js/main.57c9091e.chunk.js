(this["webpackJsonphomeday-github-app"]=this["webpackJsonphomeday-github-app"]||[]).push([[0],{31:function(e,t,a){},33:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a(1),s=a.n(n),r=a(24),i=a.n(r),j=(a(31),a(4)),o=a(18),l=a(5),u=a(3),b=a(9),d=a.n(b),h=a(12),O=(a(33),a(11)),x=function(e){var t=e.repo,a=e.user_name;return console.log(t),Object(c.jsx)("a",{href:"/user/".concat(a,"/").concat(t.name),className:"mb-6 is-block box repo",children:Object(c.jsxs)("article",{className:"is-flex",children:[Object(c.jsx)("figure",{className:"image is-64x64 repo-image",children:t.owner.avatar_url&&Object(c.jsx)("img",{src:t.owner.avatar_url,alt:"Owner Image"})||Object(c.jsx)(O.a,{icon:"user"})}),Object(c.jsxs)("div",{className:"repo-info pl-6",children:[Object(c.jsxs)("div",{className:"repo-info-headline",children:[Object(c.jsx)("h2",{className:"is-size-3",children:t.name}),t.description&&Object(c.jsx)("p",{children:t.description})]}),Object(c.jsxs)("ul",{className:"repo-info-list is-flex",children:[Object(c.jsx)("li",{children:t.language}),Object(c.jsxs)("li",{children:[Object(c.jsx)(O.a,{icon:"star"}),Object(c.jsx)("span",{className:"pl-2",children:t.stargazers_count})]}),Object(c.jsxs)("li",{children:[Object(c.jsx)(O.a,{icon:"code-branch"}),Object(c.jsx)("span",{className:"pl-2",children:t.forks_count})]})]})]})]})})},m=function(e){var t=e.repos,a=e.user_name;return t.length>0&&t.map((function(e){return Object(c.jsx)(x,{user_name:a,repo:e},e.id)}))},f=function(e){return p("https://api.github.com/users/".concat(e,"/repos"))},p=function(){var e=Object(h.a)(d.a.mark((function e(t){var a,c,n,s,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={data:{},errorMsg:""},e.prev=1,e.next=4,fetch(t);case 4:return c=e.sent,e.next=7,c.json();case 7:if(n=e.sent,200!==c.status){e.next=12;break}a={data:n,errorMsg:"",status:200},e.next=29;break;case 12:s="",r=t.includes("repos")?"Repository":"User",e.t0=c.status,e.next=404===e.t0?17:403===e.t0?19:301===e.t0?21:304===e.t0?23:422===e.t0?25:27;break;case 17:return s="".concat(r," ").concat(n.message),e.abrupt("break",28);case 19:return s="Request ".concat(n.message),e.abrupt("break",28);case 21:case 23:return s="".concat(r," ").concat(n.message),e.abrupt("break",28);case 25:return s="Request ".concat(n.message),e.abrupt("break",28);case 27:s="".concat(n.message);case 28:a={data:{},errorMsg:s,status:c.status};case 29:e.next=35;break;case 31:e.prev=31,e.t1=e.catch(1),a={data:{},errorMsg:e.t1},console.log(e.t1);case 35:return e.abrupt("return",a);case 36:case"end":return e.stop()}}),e,null,[[1,31]])})));return function(t){return e.apply(this,arguments)}}(),g=(a(39),function(){return Object(c.jsx)("div",{className:"loading",children:Object(c.jsx)("div",{className:"loader"})})}),v=s.a.createContext(),N=(a(40),function(){var e=Object(n.useState)([]),t=Object(j.a)(e,2),a=t[0],s=t[1],r=Object(n.useState)(""),i=Object(j.a)(r,2),o=i[0],l=i[1],b=Object(n.useContext)(v).setNext,O=function(e){return e.sort((function(e,t){return t.stargazers_count-e.stargazers_count})).splice(0,3)},x=function(){var e=Object(h.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f("homeday-de");case 2:""!==(t=e.sent).errorMsg?l(t.errorMsg):s(O(t.data));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){x(),b((function(e){return Object(u.a)(Object(u.a)({},e),{},{disabled:!1})}))}),[]),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{className:"fetch-cta-block has-text-centered",children:Object(c.jsx)("a",{className:"button is-info is-size-3",href:"/search",children:"Fetch a User"})}),Object(c.jsxs)("h4",{className:"is-size-3 has-text-centered mb-6",children:["Top 3 Repos from ",Object(c.jsx)("span",{className:"has-text-weight-medium",children:"homeday-de"})]}),o&&Object(c.jsx)("p",{className:"help is-danger",children:o})||a.length>0&&Object(c.jsx)(m,{repos:a,user_name:"homeday-de"})||Object(c.jsx)(g,{})]})}),k=a(14),y=function(e){var t=e.isValid,a=e.message;return console.log(t),!t&&Object(c.jsx)("span",{className:"error help is-danger",children:a})},_=(a(41),function(e){var t=Object(n.useContext)(v),a=t.setNextPath,s=t.setNext,r=e.setUserVal,i=e.userVal,o=e.onSubmit,l=Object(n.useState)({name:!0,email:!0,agree:!0}),b=Object(j.a)(l,2),d=b[0],h=b[1],O=Object(n.useState)(!1),x=Object(j.a)(O,2),m=x[0],f=x[1],p=function(e){var t=e.target.name;!function(e,t){var a=!1;switch(e){case"name":a=""===t;break;case"email":var c=/\S+@\S+\.\S+/;a=!c.test(t)||""===t,console.log(c.test(t));break;case"agree":a=!t}h((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(k.a)({},e,a))})),r((function(a){return Object(u.a)(Object(u.a)({},a),{},Object(k.a)({},e,t))}))}(t,"agree"!==t?e.target.value:e.target.checked),!m&&f(!0)},g=function(){Object.keys(d).every((function(e){return!d[e]}))?s((function(e){return Object(u.a)(Object(u.a)({},e),{},{disabled:!1})})):s((function(e){return Object(u.a)(Object(u.a)({},e),{},{disabled:!0})}))};return Object(n.useEffect)((function(){g()}),[d]),Object(n.useEffect)((function(){""!==i.name&&a("/user/".concat(i.name))}),[i]),Object(n.useEffect)((function(){g()}),[]),Object(c.jsx)("div",{className:"box form-user",children:Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),f(!0),Object.keys(d).some((function(e){return d[e]}))?console.log("dont send Form"):(o(),console.log("send Form"))},children:[Object(c.jsxs)("div",{className:"field name",children:[Object(c.jsx)("label",{className:"label",children:"Username"}),Object(c.jsx)("div",{className:"control",children:Object(c.jsx)("input",{className:"input ".concat(m&&d.name?"is-danger":""," "),type:"text",onChange:p,value:i.name,name:"name"})}),m&&Object(c.jsx)(y,{isValid:!d.name,message:"Please enter a username"})]}),Object(c.jsxs)("div",{className:"field email",children:[Object(c.jsx)("label",{className:"label",children:"Email"}),Object(c.jsx)("div",{className:"control",children:Object(c.jsx)("input",{type:"text",className:"input ".concat(m&&d.email?"is-danger":""," "),name:"email",value:i.email,onChange:p})}),m&&Object(c.jsx)(y,{isValid:!d.email,message:"Please enter a valid email"})]}),Object(c.jsxs)("div",{className:"field agree",children:[Object(c.jsxs)("div",{className:"control",children:[Object(c.jsx)("input",{type:"checkbox",onChange:p,checked:i.agree,name:"agree",id:"agree"}),Object(c.jsx)("label",{htmlFor:"agree",children:"Agree with terms and service"})]}),m&&Object(c.jsx)(y,{isValid:!d.agree,message:"Please agree the terms and service"})]}),Object(c.jsx)("button",{className:"button is-info is-medium has-text-centered",type:"submit",children:"Fetch user"})]})})}),w=function(e){var t=e.history,a=Object(n.useState)({name:"",email:"",agree:!1}),s=Object(j.a)(a,2),r=s[0],i=s[1];return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(_,{userVal:r,setUserVal:i,onSubmit:function(){t.push("/user/".concat(r.name))}})})},S=(a(42),function(e){var t=e.repo,a=Object(n.useState)(""),s=Object(j.a)(a,2),r=s[0],i=s[1],o=Object(n.useState)(""),l=Object(j.a)(o,2),u=l[0],b=l[1];return Object(n.useEffect)((function(){if(t.created_at){var e=new Date(t.created_at);i("".concat(e.getDate(),"/").concat(e.getMonth(),"/").concat(e.getFullYear()))}if(t.updated_at){var a=new Date(t.updated_at);b("".concat(a.getDate(),"/").concat(a.getMonth(),"/").concat(a.getFullYear()))}}),[t]),Object(c.jsxs)("div",{className:"box repoBox",children:[Object(c.jsx)("h1",{children:t.name}),Object(c.jsxs)("div",{className:"subtitle pt-4 is-flex is-align-content-center",children:[Object(c.jsx)("div",{children:Object(c.jsx)("figure",{className:"image is-64x64 repo-image",children:t.owner.avatar_url&&Object(c.jsx)("img",{src:t.owner.avatar_url,alt:"Owner Image"})||Object(c.jsx)(O.a,{icon:"user"})})}),Object(c.jsxs)("div",{className:"pl-5",children:[Object(c.jsxs)("p",{children:["by ",Object(c.jsx)("em",{children:t.owner.login})]}),""!==r&&Object(c.jsxs)("p",{children:["created on ",Object(c.jsx)("em",{children:r})]}),""!==u&&Object(c.jsxs)("p",{children:["updated on ",Object(c.jsx)("em",{children:u})]})]})]}),Object(c.jsxs)("div",{className:"repo-info",children:[t.description&&Object(c.jsx)("p",{children:t.description}),Object(c.jsxs)("ul",{className:"row",children:[t.language&&Object(c.jsx)("li",{children:Object(c.jsx)("span",{children:t.language})}),Object(c.jsxs)("li",{children:[Object(c.jsx)(O.a,{size:"lg",icon:"star"}),Object(c.jsx)("span",{className:"pl-2",children:t.stargazers_count})]}),Object(c.jsxs)("li",{children:[Object(c.jsx)(O.a,{size:"lg",icon:"code-branch"}),Object(c.jsx)("span",{className:"pl-2",children:t.forks_count})]})]}),Object(c.jsxs)("ul",{className:"row",children:[t.svn_url&&Object(c.jsx)("li",{children:Object(c.jsx)("a",{href:t.svn_url,target:"_blank",children:"Link to repo"})}),t.homepage&&Object(c.jsxs)("li",{children:[Object(c.jsx)(O.a,{size:"lg",icon:"globe"}),Object(c.jsx)("a",{href:t.homepage,className:"pl-3",target:"_blank",children:"Homepage"})]})]})]})]})}),C=function(e){var t=Object(n.useContext)(v),a=t.setNextPath,s=t.setNext,r=e.match,i=r.params.repo_name,o=r.params.user_name,l=Object(n.useState)(null),b=Object(j.a)(l,2),O=b[0],x=b[1],m=Object(n.useState)({}),N=Object(j.a)(m,2),k=N[0],y=N[1],_=function(){var e=Object(h.a)(d.a.mark((function e(){var t,c,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r=i,p("https://api.github.com/repos/".concat(o,"/").concat(r));case 2:if(200!==(t=e.sent).status){e.next=11;break}return y(t.data),e.next=7,f(o);case 7:200===(c=e.sent).status?(n=c.data.findIndex((function(e){return e.name===i})),s((function(e){return Object(u.a)(Object(u.a)({},e),{},{disabled:!1})})),a("/user/".concat(o,"/").concat(c.data[n+1].name))):s((function(e){return Object(u.a)(Object(u.a)({},e),{},{disabled:!0})})),e.next=13;break;case 11:200!==t.status?x(t.errorMsg):y(t.data),s((function(e){return Object(u.a)(Object(u.a)({},e),{},{disabled:!0})}));case 13:case"end":return e.stop()}var r}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){i&&_()}),[i]),Object(c.jsx)(c.Fragment,{children:O&&Object(c.jsx)("p",{className:"help is-danger",children:O})||0===Object.keys(k).length&&Object(c.jsx)(g,{})||Object(c.jsx)(S,{repo:k})})},F=function(e){var t=e.user,a=e.reposCount;return console.log(e),Object.keys(t).length>0&&Object(c.jsxs)("div",{className:"user has-text-centered my-6",children:[Object(c.jsx)("h2",{className:"is-size-3",children:t.name}),Object(c.jsxs)("p",{children:[Object(c.jsx)("em",{children:t.location}),Object(c.jsx)("br",{})]}),Object(c.jsxs)("p",{children:[Object(c.jsx)("strong",{children:"Followers: "}),Object(c.jsx)("span",{children:t.followers})]}),Object(c.jsxs)("p",{children:[Object(c.jsx)("strong",{children:"Repos: "}),Object(c.jsx)("span",{children:a})]})]})},M=function(e){var t=e.match.params.user_name||null,a=Object(n.useContext)(v),s=a.setNext,r=a.setNextPath,i=Object(n.useState)({}),o=Object(j.a)(i,2),l=o[0],b=o[1],O=Object(n.useState)([]),x=Object(j.a)(O,2),N=x[0],k=x[1],y=Object(n.useState)(null),_=Object(j.a)(y,2),w=_[0],S=_[1],C=Object(n.useState)(null),M=Object(j.a)(C,2),P=M[0],E=M[1],z=function(){var e=Object(h.a)(d.a.mark((function e(){var a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p("https://api.github.com/users/".concat(t));case 2:if(200===(a=e.sent).status){e.next=9;break}S(a.errorMsg),s((function(e){return Object(u.a)(Object(u.a)({},e),{},{disabled:!0})})),E("Repos can not be shown"),e.next=14;break;case 9:return b(a.data),e.next=12,f(t);case 12:200!==(c=e.sent).status?(E(c.errorMsg),s((function(e){return Object(u.a)(Object(u.a)({},e),{},{disabled:!0})}))):(k(c.data),s((function(e){return Object(u.a)(Object(u.a)({},e),{},{disabled:!1})})));case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){t&&z()}),[t]),Object(n.useEffect)((function(){N.length>0&&r("/user/".concat(t,"/").concat(N[0].name))}),[N]),Object(c.jsxs)(c.Fragment,{children:[w&&Object(c.jsx)("p",{className:"help is-danger",children:w})||Object(c.jsx)(F,{user:l,reposCount:N.length}),P&&Object(c.jsx)("p",{className:"help is-danger",children:P})||0===N.length&&Object(c.jsx)(g,{})||Object(c.jsx)(m,{repos:N,user_name:t})]})},P=(a(43),function(){var e=Object(n.useContext)(v).setNext;return Object(n.useEffect)((function(){e((function(e){return Object(u.a)(Object(u.a)({},e),{},{disabled:!0})}))}),[]),Object(c.jsx)("div",{className:"notFound",children:Object(c.jsx)("h3",{className:"help is-danger",children:"Sorry this page does not exist!"})})}),E=function(){return Object(c.jsxs)(l.c,{children:[Object(c.jsx)(l.a,{exact:!0,path:"/",render:function(e){return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(N,{history:e.history,match:e.match})})}}),Object(c.jsx)(l.a,{exact:!0,path:"/search/",render:function(e){return Object(c.jsx)(w,{history:e.history,match:e.match})}}),Object(c.jsx)(l.a,{exact:!0,path:"/user/:user_name",render:function(e){return Object(c.jsx)(M,{history:e.history,match:e.match})}}),Object(c.jsx)(l.a,{exact:!0,path:"/user/:user_name/:repo_name",render:function(e){return Object(c.jsx)(C,{history:e.history,match:e.match})}}),Object(c.jsx)(l.a,{path:"*",component:P})]})},z=(a(46),Object(l.f)((function(e){var t=e.history,a=e.location,s=Object(n.useContext)(v),r=s.next,i=s.nextPath,o=Object(n.useState)(!1),l=Object(j.a)(o,2),u=l[0],b=l[1];return Object(n.useEffect)((function(){"/"!==a.pathname?b(!0):b(!1)}),[a.pathname]),Object(c.jsx)("footer",{className:"footer",children:Object(c.jsxs)("div",{className:"content has-text-centered",children:[u&&Object(c.jsx)("button",{className:"prev mr-6 button is-danger is-outlined",onClick:function(){return t.goBack()},children:"Prev"}),r&&Object(c.jsx)("button",{className:"next ml-6 button is-danger is-outlined",disabled:r.disabled,onClick:function(){return t.push(i)},children:"Next"})]})})}))),V=a.p+"static/media/github.00988566.svg",D=(a(47),function(){var e=Object(n.useState)(!1),t=Object(j.a)(e,2),a=t[0],s=t[1];return Object(c.jsx)("header",{children:Object(c.jsx)("div",{className:"container",children:Object(c.jsxs)("nav",{className:"navbar",role:"navigation","aria-label":"main navigation",children:[Object(c.jsxs)("div",{className:"navbar-brand",children:[Object(c.jsx)("a",{className:"navbar-item",href:"/",children:Object(c.jsx)("img",{src:V,width:"112",alt:"github logo",height:"28"})}),Object(c.jsxs)("a",{onClick:function(){return s((function(e){return!e}))},role:"button",className:"navbar-burger","aria-label":"menu","aria-expanded":"false","data-target":"navbarMenu",children:[Object(c.jsx)("span",{"aria-hidden":"true"}),Object(c.jsx)("span",{"aria-hidden":"true"}),Object(c.jsx)("span",{"aria-hidden":"true"})]})]}),Object(c.jsx)("div",{id:"navbarMenu",className:"navbar-menu ".concat(a?"is-active":""),children:Object(c.jsxs)("div",{className:"navbar-start",children:[Object(c.jsx)("a",{href:"/",className:"navbar-item",children:"Home"}),Object(c.jsx)("a",{href:"/search",className:"navbar-item",children:"Search"})]})})]})})})}),R=(a(48),a(15)),I=a(16);R.b.add(I.d,I.c,I.a,I.b);var U=function(){var e=Object(n.useState)({visible:!0,disabled:!1}),t=Object(j.a)(e,2),a=t[0],s=t[1],r=Object(n.useState)("/search"),i=Object(j.a)(r,2),l=i[0],u=i[1];return Object(c.jsx)(v.Provider,{value:{next:a,nextPath:l,setNext:s,setNextPath:u},children:Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)(D,{}),Object(c.jsxs)(o.a,{children:[Object(c.jsx)("main",{className:"App-main container",children:Object(c.jsx)(E,{})}),Object(c.jsx)(z,{})]})]})})},B=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,50)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),c(e),n(e),s(e),r(e)}))};i.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(U,{})}),document.getElementById("root")),B()}},[[49,1,2]]]);
//# sourceMappingURL=main.57c9091e.chunk.js.map